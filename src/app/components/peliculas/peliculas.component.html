<div class='container'>
  <h1 class='m-4'>Peliculas</h1>
  <button class='btn btn-danger m-4' [routerLink]='["/"]'>Volver</button>
  <div *ngIf='detalles; else condicionelse' class="card m-4" style="width: 18rem;">
    <img src='{{detalles.foto}}' class="card-img-top" alt="...">
    <div class="card-body">
      <h5 class="card-title">{{detalles.titulo}}</h5>
      <p *ngIf='nac'>{{nac.nombre}}</p>
      <p *ngIf='gen'>{{gen.nombre}}</p>
    </div>
  </div>
  <ng-template #condicionelse>
    No hay detalles seleccionado
  </ng-template>
  <div *ngIf='pelis; else condicionelse2'>
    <table class="table table-striped table-dark mt-4">
      <thead>
        <tr>
          <th>Titulo</th>
          <th>Foto</th>
          <th>Fecha de estreno</th>
          <th>Detalles</th>
          <th>Eliminar</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor='let p of pelis'>
          <td>{{p.titulo}}</td>
          <td><img src='{{p.foto}}' width='150px'></td>
          <td>{{p.fechaEstreno}}</td>
          <td>
            <app-detallepeliculas [pelicula]='p' (seleccionarDetalle)='seleccionarDetalleParent($event)'>
            </app-detallepeliculas>
          </td>
          <td>
            <button (click)='eliminarPelicula(p.idPelicula)' class='btn btn-danger'>Eliminar</button>

          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <ng-template #condicionelse2>
    <p>loading...</p>
  </ng-template>
</div>
